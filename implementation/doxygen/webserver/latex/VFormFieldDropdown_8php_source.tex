\doxysection{VForm\+Field\+Dropdown.\+php}
\hypertarget{VFormFieldDropdown_8php_source}{}\label{VFormFieldDropdown_8php_source}\index{php/framework/view/VFormFieldDropdown.php@{php/framework/view/VFormFieldDropdown.php}}
\mbox{\hyperlink{VFormFieldDropdown_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00003}\mbox{\hyperlink{classVFormFieldDropdown}{00003}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classVFormFieldDropdown}{VFormFieldDropdown}}\ \textcolor{keyword}{extends}\ \mbox{\hyperlink{classVFormField}{VFormField}}\ \{}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00004}\mbox{\hyperlink{classVFormFieldDropdown_a872c4c148f5fe90476da42325f643be9}{00004}}\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classVFormFieldDropdown_a872c4c148f5fe90476da42325f643be9}{Sql}}\ =\ \textcolor{stringliteral}{"{}SELECT\ *\ FROM\ table"{}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00005}\mbox{\hyperlink{classVFormFieldDropdown_a09df3cedce3a19744850f066f29fbb44}{00005}}\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classVFormFieldDropdown_a09df3cedce3a19744850f066f29fbb44}{PermName}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00006}\mbox{\hyperlink{classVFormFieldDropdown_a941256cf9742dc81ec2bcea45cf89f53}{00006}}\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classVFormFieldDropdown_a941256cf9742dc81ec2bcea45cf89f53}{LabelColumn}}\ =\ \textcolor{stringliteral}{"{}name"{}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00007}\mbox{\hyperlink{classVFormFieldDropdown_a09effb47e6883e5c0db61b123f12bcf4}{00007}}\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classVFormFieldDropdown_a09effb47e6883e5c0db61b123f12bcf4}{ValueColumn}}\ =\ \textcolor{stringliteral}{"{}id"{}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00009}\mbox{\hyperlink{classVFormFieldDropdown_acd6c93dac07af607570a511dab009d89}{00009}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classVFormFieldDropdown_acd6c93dac07af607570a511dab009d89}{\_\_construct}}(\&\mbox{\hyperlink{classVFormField_a08fdd91bde255dbe3e2d15a22d9663e8}{\$model}}\ =\ NULL,\ \mbox{\hyperlink{classVFormField_a177af2bf70bede02de3d05a425fb8e43}{\$label}}\ =\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00010}00010\ \ \ \ \ \ \ \ \ \$this-\/>model\ =\ \&\mbox{\hyperlink{classVFormField_a08fdd91bde255dbe3e2d15a22d9663e8}{\$model}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00011}00011\ \ \ \ \ \ \ \ \ \$this-\/>fieldId\ =\ \mbox{\hyperlink{library_8php_a7971fc21278bd2af708ff322e5d2d6c0}{genFieldId}}();}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00012}00012\ \ \ \ \ \ \ \ \ \$this-\/>label\ =\ \mbox{\hyperlink{classVFormField_a177af2bf70bede02de3d05a425fb8e43}{\$label}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00013}00013\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00015}\mbox{\hyperlink{classVFormFieldDropdown_aa776ee561a32e9eb2c76a5a7f9cc1a74}{00015}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classVFormFieldDropdown_aa776ee561a32e9eb2c76a5a7f9cc1a74}{renderHeader}}():\ void\ \{}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00016}00016\ \ \ \ \ \ \ \ \ parent::\mbox{\hyperlink{classVFormFieldDropdown_aa776ee561a32e9eb2c76a5a7f9cc1a74}{renderHeader}}();\ \textcolor{comment}{//\ TODO:\ Change\ the\ autogenerated\ stub}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00017}00017\ \ \ \ \ \ \ \ \ echo\ \textcolor{stringliteral}{"{}<select\ name='\$this-\/>fieldId'\ />"{}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00018}00018\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00020}\mbox{\hyperlink{classVFormFieldDropdown_ab20fd770855c31512e92d9b31f379b87}{00020}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classVFormFieldDropdown_ab20fd770855c31512e92d9b31f379b87}{renderBody}}():\ void\ \{}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00021}00021\ \ \ \ \ \ \ \ \ parent::renderBody();\ \textcolor{comment}{//\ TODO:\ Change\ the\ autogenerated\ stub}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00022}00022\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{executor_8php_a9e8c8ccd487fdcdc782bac5cae9b27ae}{\$sql}}=\$this-\/>buildSql();}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00023}00023\ \ \ \ \ \ \ \ \ error\_log(\mbox{\hyperlink{executor_8php_a9e8c8ccd487fdcdc782bac5cae9b27ae}{\$sql}});}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00024}00024\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{executor_8php_a4df5cfe5ef69919928b0b8eefb5b37bb}{\$sqls}}=\mbox{\hyperlink{classDB_adf2201e5ddf88c0f658c16cdcbda3ad5}{DB::prepare}}(\mbox{\hyperlink{executor_8php_a9e8c8ccd487fdcdc782bac5cae9b27ae}{\$sql}});}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{executor_8php_a4df5cfe5ef69919928b0b8eefb5b37bb}{\$sqls}}-\/>execute([]))\ die(get\_called\_class().\textcolor{stringliteral}{"{}:\ SQL\ Error."{}});}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00027}00027\ \ \ \ \ \ \ \ \ \$label\ =\ static::LabelColumn;}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00028}00028\ \ \ \ \ \ \ \ \ \$value\ =\ static::ValueColumn;}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00029}00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{executor_8php_ac6c49291f92291a3cece8066d68e5f5e}{\$o}}=\mbox{\hyperlink{executor_8php_a4df5cfe5ef69919928b0b8eefb5b37bb}{\$sqls}}-\/>fetchObject())\ \{}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ echo\ \textcolor{stringliteral}{"{}<option\ value='"{}}.\$o-\/>\$value.\textcolor{stringliteral}{"{}'\ "{}}.}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((\$this-\/>model\ ==\ \mbox{\hyperlink{executor_8php_ac6c49291f92291a3cece8066d68e5f5e}{\$o}}-\/>\$value)\ ?\ \textcolor{stringliteral}{"{}selected=\(\backslash\)"{}selected\(\backslash\)"{}"{}}\ :\ \textcolor{stringliteral}{"{}"{}}).}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\ (\$this-\/>disabled)\ ?\ \textcolor{stringliteral}{"{}disabled=\(\backslash\)"{}disabled\(\backslash\)"{}"{}}\ :\ \textcolor{stringliteral}{"{}"{}}\ ).\textcolor{stringliteral}{"{}/>"{}}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .\mbox{\hyperlink{executor_8php_ac6c49291f92291a3cece8066d68e5f5e}{\$o}}-\/>\$label.\textcolor{stringliteral}{"{}</option>"{}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00034}00034\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00035}00035\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{executor_8php_a4df5cfe5ef69919928b0b8eefb5b37bb}{\$sqls}}-\/>closeCursor();}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00036}00036\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00039}\mbox{\hyperlink{classVFormFieldDropdown_aeed6253e9e242751c7beb12a5c541b1e}{00039}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classVFormFieldDropdown_aeed6253e9e242751c7beb12a5c541b1e}{renderFooter}}():\ void\ \{}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00040}00040\ \ \ \ \ \ \ \ \ echo\ \textcolor{stringliteral}{"{}</select>"{}};}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00041}00041\ \ \ \ \ \ \ \ \ parent::renderFooter();\ \textcolor{comment}{//\ TODO:\ Change\ the\ autogenerated\ stub}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00042}00042\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00045}\mbox{\hyperlink{classVFormFieldDropdown_a6c42a72add1e6afb5ff60b9f9a9356cd}{00045}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classVFormFieldDropdown_a6c42a72add1e6afb5ff60b9f9a9356cd}{registerController}}(\mbox{\hyperlink{classFormContext}{FormContext}}\ \$c):\ void\ \{}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00046}00046\ \ \ \ \ \ \ \ \ parent::registerController(\$c);\ \textcolor{comment}{//\ TODO:\ Change\ the\ autogenerated\ stub}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00047}00047\ \ \ \ \ \ \ \ \ \$c-\/>\mbox{\hyperlink{classFormContext_a93ef6035b3d18b03ffa16fdbda5f1f28}{add}}(\textcolor{keyword}{new}\ \mbox{\hyperlink{classCDropdown}{CDropdown}}(\$this-\/>model,\ \$this-\/>fieldId));}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00048}00048\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00050}\mbox{\hyperlink{classVFormFieldDropdown_a5c96ad32310965cf6f7de32fa987a1e1}{00050}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classVFormFieldDropdown_a5c96ad32310965cf6f7de32fa987a1e1}{buildSql}}()\ \{}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (static::PermName\ !==\ \textcolor{stringliteral}{"{}"{}})\ \textcolor{keywordflow}{return}\ static::Sql\ .\ \mbox{\hyperlink{classPermissionManager_a5ff83454dc6e8cfe71720005064f2a29}{PermissionManager::arrayToSQL}}(\$\_SESSION[\textcolor{stringliteral}{"{}perms"{}}]-\/>getDomainsByPerm(static::PermName));}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ static::Sql;}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00053}00053\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{VFormFieldDropdown_8php_source_l00055}00055\ \}}

\end{DoxyCode}
